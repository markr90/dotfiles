return {
  {
    'romgrk/barbar.nvim',
    event = 'BufReadPost',
    dependencies = 'nvim-tree/nvim-web-devicons',
    opts = {
      -- lazy.nvim can automatically call setup for you. just put your options here:
      -- insert_at_start = true,
      -- animation = true,
      -- …etc
      icons = {
        diagnostics = {
          [vim.diagnostic.severity.ERROR] = { enabled = true, icon = 'ﬀ' },
          [vim.diagnostic.severity.WARN] = { enabled = false },
          [vim.diagnostic.severity.INFO] = { enabled = false },
          [vim.diagnostic.severity.HINT] = { enabled = true },
        },
      },
    },
    config = function(opts)
      require('barbar').setup(opts)
      vim.keymap.set('n', '<C-n>', '<Cmd>BufferPick<CR>', { desc = 'Navigate to buffer' })
    end,
  },
}
